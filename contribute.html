<!DOCTYPE html>
<html>
    <head>
        
        <title>Ibis: Python data analysis productivity framework</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel='shortcut icon' type='image/x-icon' href='/static/img/favicon.ico'/>
        <link rel="stylesheet"
              href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
              integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
              crossorigin="anonymous">
        
            <link rel="stylesheet"
                  href="/static/css/ibis.css">
        
            <link rel="stylesheet"
                  href="/static/css/codehilite.css">
        
        <script src="https://kit.fontawesome.com/79e5369384.js" crossorigin="anonymous"></script>
    </head>
    <body>
        <header>
            <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
                <div class="container">
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#nav-content" aria-controls="nav-content" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    
                        <a class="navbar-brand" href="/">
                            
                                <img alt="" src="/static/img/logo_ibis.svg" class="header-logo"/>
                            
                            
                                <span class="header-title">Ibis</span>
                            
                        </a>
                    

                    
                        <div class="collapse navbar-collapse" id="nav-content">   
                            <ul class="navbar-nav ml-auto">
                                
                                    
                                        <li class="nav-item dropdown">
                                            <a class="nav-link dropdown-toggle"
                                               data-toggle="dropdown"
                                               id="About us"
                                               href="#"
                                               role="button"
                                               aria-haspopup="true"
                                               aria-expanded="false">About us</a>
                                            <div class="dropdown-menu" aria-labelledby="About us">
                                            
                                                <a class="dropdown-item" href="/about/index.html">About Ibis</a>
                                            
                                                <a class="dropdown-item" href="/about/team.html">Team</a>
                                            
                                                <a class="dropdown-item" href="/about/roadmap.html">Roadmap</a>
                                            
                                                <a class="dropdown-item" href="/about/license.html">License</a>
                                            
                                            </div>
                                        </li>
                                    
                                
                                    
                                        <li class="nav-item">
                                            <a class="nav-link" href="/getting_started.html">Getting started</a>
                                        </li>
                                    
                                
                                    
                                        <li class="nav-item">
                                            <a class="nav-link" href="/docs/">Documentation</a>
                                        </li>
                                    
                                
                                    
                                        <li class="nav-item dropdown">
                                            <a class="nav-link dropdown-toggle"
                                               data-toggle="dropdown"
                                               id="Community"
                                               href="#"
                                               role="button"
                                               aria-haspopup="true"
                                               aria-expanded="false">Community</a>
                                            <div class="dropdown-menu" aria-labelledby="Community">
                                            
                                                <a class="dropdown-item" href="https://stackoverflow.com/questions/tagged/ibis">Ask a question (StackOverflow)</a>
                                            
                                                <a class="dropdown-item" href="https://gitter.im/ibis-dev/Lobby">Chat (Gitter)</a>
                                            
                                                <a class="dropdown-item" href="/community/coc.html">Code of conduct</a>
                                            
                                                <a class="dropdown-item" href="/community/ecosystem.html">Ecosystem</a>
                                            
                                            </div>
                                        </li>
                                    
                                
                                    
                                        <li class="nav-item">
                                            <a class="nav-link" href="/contribute.html">Contribute</a>
                                        </li>
                                    
                                
                                    
                                        <li class="nav-item">
                                            <a class="nav-link" href="/release_notes.html">Release Notes</a>
                                        </li>
                                    
                                
                            </ul>
                        </div>
                    
                </div>
            </nav>
        </header>
        <main role="main">
            <div class="container">
                
                               <h1 id="contributing-to-ibis">Contributing to Ibis</h1>
<h2 id="set-up-a-development-environment">Set up a development environment</h2>
<p>There are two primary ways to setup a development environment.</p>
<ul>
<li><a href="#nix"><code>nix</code></a>: fewer steps, isolated</li>
<li><a href="#miniconda"><code>conda</code></a>: more steps, not isolated</li>
</ul>
<h3 id="initial-steps">Initial steps</h3>
<p><strong>Dependencies:</strong></p>
<h4 id="required">Required</h4>
<ul>
<li><a href="https://git-scm.com/"><code>git</code></a></li>
</ul>
<h4 id="package-management">Package Management</h4>
<p>At least one of <code>nix</code> or <code>conda</code> is required to contribute to ibis.</p>
<ul>
<li><a href="https://docs.conda.io/en/latest/"><code>conda</code></a></li>
</ul>
<h3 id="nix">Nix</h3>
<ol>
<li><a href="https://nixos.org/download.html">Download and install <code>nix</code></a></li>
<li>Install <code>gh</code>: <code>nix-shell -p gh</code> <strong>or</strong> <code>nix-env -iA gh</code></li>
<li>
<p>Fork and clone the ibis repository:</p>
<div class="codehilite"><pre><span></span><code>gh repo fork --clone --remote ibis-project/ibis
</code></pre></div>

</li>
<li>
<p>Run <code>nix-shell</code> in the checkout directory:</p>
<div class="codehilite"><pre><span></span><code><span class="n">cd</span> <span class="n">ibis</span>

<span class="c1"># set up the cache to avoid building everything from scratch</span>
<span class="n">nix</span><span class="o">-</span><span class="n">shell</span> <span class="o">-</span><span class="n">p</span> <span class="n">cachix</span> <span class="o">--</span><span class="n">run</span> <span class="s1">&#39;cachix use ibis&#39;</span>

<span class="c1"># start a nix-shell</span>
<span class="c1">#</span>
<span class="c1"># this may take awhile to download artifacts from the cache</span>
<span class="n">nix</span><span class="o">-</span><span class="n">shell</span>
</code></pre></div>

</li>
</ol>
<h3 id="miniconda">Miniconda</h3>
<ol>
<li><a href="https://docs.conda.io/en/latest/miniconda.html">Download</a> and install Miniconda</li>
<li>Install <code>gh</code>: <code>conda install -c conda-forge gh</code></li>
<li>
<p>Fork and clone the ibis repository:</p>
<div class="codehilite"><pre><span></span><code>gh repo fork --clone --remote ibis-project/ibis
</code></pre></div>

</li>
<li>
<p>Create a Conda environment suitable for ibis development:</p>
<div class="codehilite"><pre><span></span><code>cd ibis
conda create -n ibis-dev -f conda-lock/&lt;platform-64-pyver&gt;.lock
</code></pre></div>

</li>
<li>
<p>Activate the environment</p>
<div class="codehilite"><pre><span></span><code>conda activate ibis-dev
</code></pre></div>

</li>
<li>
<p>Install your local copy of <code>ibis</code> into the Conda environment. In the root of the project run:</p>
<div class="codehilite"><pre><span></span><code>pip install -e .
</code></pre></div>

</li>
</ol>
<h3 id="general-workflow">General workflow</h3>
<h4 id="find-an-issue-to-work-on">Find an issue to work on</h4>
<p>All contributions are welcome! Code, docs, and constructive feedback are all
great contributions to the project.</p>
<p>If you don't have a particular issue in mind head over to the GitHub issue
tracker for Ibis and look for open issues with the label <a href="https://github.com/ibis-project/ibis/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22"><code>good first
issue</code></a>.</p>
<p>Feel free to help with other issues that aren't labeled as such, but they may be more challenging.</p>
<p>Once you find an issue you want to work on, write a comment with the text
<code>/take</code> on the issue. GitHub will then assign the issue to you.</p>
<p>This lets people know you're working on the issue. If you find an issue that
has an assignee, comment on the issue and ask whether the assignee is still
working on the issue.</p>
<h4 id="make-a-branch">Make a branch</h4>
<p><strong>Dependencies:</strong></p>
<ul>
<li>required: <code>git</code></li>
</ul>
<p>The first thing you want to do is make a branch. Let's call it <code>useful-bugfix</code>.</p>
<div class="codehilite"><pre><span></span><code>    git checkout -b useful-bugfix
</code></pre></div>

<h4 id="make-the-desired-change">Make the desired change</h4>
<p><strong>Dependencies:</strong></p>
<ul>
<li>required: <code>git</code></li>
</ul>
<p>Let's say you've made a change to <code>ibis/expr/types.py</code> to fix a bug reported in issue #424242 (not actually an issue).</p>
<p>Running <code>git status</code> should give output similar to this:</p>
<div class="codehilite"><pre><span></span><code>    $ <span class="nv">git</span> <span class="nv">status</span>
    <span class="nv">On</span> <span class="nv">branch</span> <span class="nv">useful</span><span class="o">-</span><span class="nv">bugfix</span>
    <span class="nv">Your</span> <span class="nv">branch</span> <span class="nv">is</span> <span class="nv">up</span> <span class="nv">to</span> <span class="nv">date</span> <span class="nv">with</span> <span class="s1">&#39;</span><span class="s">origin/useful-bugfix</span><span class="s1">&#39;</span>.

    <span class="nv">Changes</span> <span class="nv">not</span> <span class="nv">staged</span> <span class="k">for</span> <span class="nv">commit</span>:
      <span class="ss">(</span><span class="nv">use</span> <span class="s2">&quot;</span><span class="s">git add &lt;file&gt;...</span><span class="s2">&quot;</span> <span class="nv">to</span> <span class="nv">update</span> <span class="nv">what</span> <span class="nv">will</span> <span class="nv">be</span> <span class="nv">committed</span><span class="ss">)</span>
      <span class="ss">(</span><span class="nv">use</span> <span class="s2">&quot;</span><span class="s">git restore &lt;file&gt;...</span><span class="s2">&quot;</span> <span class="nv">to</span> <span class="nv">discard</span> <span class="nv">changes</span> <span class="nv">in</span> <span class="nv">working</span> <span class="nv">directory</span><span class="ss">)</span>
            <span class="nv">modified</span>:   <span class="nv">ibis</span><span class="o">/</span><span class="nv">expr</span><span class="o">/</span><span class="nv">types</span>.<span class="nv">py</span>

    <span class="nv">no</span> <span class="nv">changes</span> <span class="nv">added</span> <span class="nv">to</span> <span class="nv">commit</span> <span class="ss">(</span><span class="nv">use</span> <span class="s2">&quot;</span><span class="s">git add</span><span class="s2">&quot;</span> <span class="nv">and</span><span class="o">/</span><span class="nv">or</span> <span class="s2">&quot;</span><span class="s">git commit -a</span><span class="s2">&quot;</span><span class="ss">)</span>
</code></pre></div>

<h4 id="run-the-test-suite">Run the test suite</h4>
<p>Next, you'll want to run a subset of the test suite.</p>
<p><strong>Dependencies:</strong></p>
<ul>
<li>required: <a href="#nix"><code>nix</code></a> environment or <a href="#miniconda"><code>conda</code></a> environment</li>
</ul>
<p>To run a subset of the ibis tests use the following command:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">PYTEST_BACKENDS</span><span class="o">=</span><span class="s2">&quot;sqlite pandas&quot;</span> pytest ibis/tests ibis/backends/tests
</code></pre></div>

<p>You can change <code>"sqlite pandas"</code> to include one or more space-separated
supported backends that you want to test.</p>
<p>It isn't necessary to provide <code>PYTEST_BACKENDS</code> at all, but it's useful for
exercising more of the library's test suite.</p>
<h4 id="commit-your-changes">Commit your changes</h4>
<p><strong>Dependencies:</strong></p>
<ul>
<li>required: <code>git</code></li>
<li>optional: <a href="https://commitizen-tools.github.io/commitizen/"><code>cz</code></a></li>
</ul>
<p>Next, you'll want to commit your changes.</p>
<p>Ibis's commit message structure follows <a href="https://github.com/semantic-release/semantic-release"><code>semantic-release</code>
conventions</a>.</p>
<p><strong>NOTE:</strong> It isn't necessary to use <code>cz commit</code> to make commits, but it is
necessary to follow outlined in this table in <a href="https://github.com/semantic-release/semantic-release">this
table</a>.</p>
<p><code>cz</code> is already configured and ready to go if you've setup an environment, so
stage your changes and run <code>cz commit</code>:</p>
<div class="codehilite"><pre><span></span><code>    git add .
    cz commit
</code></pre></div>

<p>You should see a series of prompts about actions to take next:</p>
<ol>
<li>Select the type of change you're committing. In this case, we're committing a bug fix, so we'll select fix:<div class="codehilite"><pre><span></span><code>? <span class="nv">Select</span> <span class="nv">the</span> <span class="nv">type</span> <span class="nv">of</span> <span class="nv">change</span> <span class="nv">you</span> <span class="nv">are</span> <span class="nv">committing</span> <span class="ss">(</span><span class="nv">Use</span> <span class="nv">arrow</span> <span class="nv">keys</span><span class="ss">)</span>
 » <span class="nv">fix</span>: <span class="nv">A</span> <span class="nv">bug</span> <span class="nv">fix</span>. <span class="nv">Correlates</span> <span class="nv">with</span> <span class="nv">PATCH</span> <span class="nv">in</span> <span class="nv">SemVer</span>
   <span class="nv">feat</span>: <span class="nv">A</span> <span class="nv">new</span> <span class="nv">feature</span>. <span class="nv">Correlates</span> <span class="nv">with</span> <span class="nv">MINOR</span> <span class="nv">in</span> <span class="nv">SemVer</span>
   <span class="nv">docs</span>: <span class="nv">Documentation</span> <span class="nv">only</span> <span class="nv">changes</span>
   <span class="nv">style</span>: <span class="nv">Changes</span> <span class="nv">that</span> <span class="k">do</span> <span class="nv">not</span> <span class="nv">affect</span> <span class="nv">the</span> <span class="nv">meaning</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">code</span> <span class="ss">(</span><span class="nv">white</span><span class="o">-</span><span class="nv">space</span>, <span class="nv">formatting</span>, <span class="nv">missing</span> <span class="nv">semi</span><span class="o">-</span><span class="nv">colons</span>, <span class="nv">etc</span><span class="ss">)</span>
   <span class="nv">refactor</span>: <span class="nv">A</span> <span class="nv">code</span> <span class="nv">change</span> <span class="nv">that</span> <span class="nv">neither</span> <span class="nv">fixes</span> <span class="nv">a</span> <span class="nv">bug</span> <span class="nv">nor</span> <span class="nv">adds</span> <span class="nv">a</span> <span class="nv">feature</span>
   <span class="nv">perf</span>: <span class="nv">A</span> <span class="nv">code</span> <span class="nv">change</span> <span class="nv">that</span> <span class="nv">improves</span> <span class="nv">performance</span>
   <span class="nv">test</span>: <span class="nv">Adding</span> <span class="nv">missing</span> <span class="nv">or</span> <span class="nv">correcting</span> <span class="nv">existing</span> <span class="nv">tests</span>
   <span class="nv">build</span>: <span class="nv">Changes</span> <span class="nv">that</span> <span class="nv">affect</span> <span class="nv">the</span> <span class="nv">build</span> <span class="nv">system</span> <span class="nv">or</span> <span class="nv">external</span> <span class="nv">dependencies</span> <span class="ss">(</span><span class="nv">example</span> <span class="nv">scopes</span>: <span class="nv">pip</span>, <span class="nv">docker</span>, <span class="nv">npm</span><span class="ss">)</span>
   <span class="nv">ci</span>: <span class="nv">Changes</span> <span class="nv">to</span> <span class="nv">our</span> <span class="nv">CI</span> <span class="nv">configuration</span> <span class="nv">files</span> <span class="nv">and</span> <span class="nv">scripts</span> <span class="ss">(</span><span class="nv">example</span> <span class="nv">scopes</span>: <span class="nv">GitLabCI</span><span class="ss">)</span>
</code></pre></div>

</li>
</ol>
<p>Generally you don't need to think too hard about what category to select, but note that:</p>
<ul>
<li><code>feat</code> will cause a minor version bump</li>
<li><code>fix</code> will cause a patch version bump</li>
<li>
<p>everything else will not cause a version bump, <strong>unless it's a breaking
       change</strong> (continue reading these instructions for more info on that)</p>
</li>
<li>
<p>Next, you're asked what the scope of this change is:</p>
<div class="codehilite"><pre><span></span><code><span class="vm">?</span><span class="w"> </span><span class="n">What</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">scope</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">change</span><span class="vm">?</span><span class="w"> </span><span class="p">(</span><span class="k">class</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="p">(</span><span class="n">press</span><span class="w"> </span><span class="o">[</span><span class="n">enter</span><span class="o">]</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">skip</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

</li>
</ul>
<p>This is optional, but if there's a clear component or single file that is
   modified you should put it. In our case, let's assume the bug fixed a type
   inference problem, so we'd type in <code>type-inference</code> at this prompt.</p>
<ol>
<li>You'll then be asked to type in a short description of the change which will be the commit message title:<div class="codehilite"><pre><span></span><code>? Write a short and imperative summary of the code changes: (lower case and no period)
 fix a type inference issue where floats were incorrectly cast to ints
</code></pre></div>

</li>
</ol>
<p>Let's say there was a problem with spurious casting of float to integers, so
   we type in the message above.  That number on the left (here <code>(69)</code>) is the
   length of description you've typed in.</p>
<ol>
<li>Next you'll be asked for a longer description, which is entirely optional
   <strong>unless the change is a breaking change</strong>, or you feel like a bit of prose<div class="codehilite"><pre><span></span><code><span class="vm">?</span><span class="w"> </span><span class="n">Provide</span><span class="w"> </span><span class="n">additional</span><span class="w"> </span><span class="n">contextual</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="nl">changes</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">press</span><span class="w"> </span><span class="o">[</span><span class="n">enter</span><span class="o">]</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">skip</span><span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">bug</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">triggered</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="ow">some</span><span class="w"> </span><span class="n">incorrect</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">caused</span><span class="w"> </span><span class="n">floats</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">incorrectly</span><span class="w"> </span><span class="nf">cast</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">integers</span><span class="p">.</span><span class="w"></span>
</code></pre></div>

</li>
</ol>
<p>For non breaking changes, this isn't strictly necessary but it can be very
   helpful when a change is large, obscure, or complex. For this example let's just reiterate
   most of what the commit title says.</p>
<ol>
<li>Next you're asked about breaking changes:<div class="codehilite"><pre><span></span><code>? Is this a BREAKING CHANGE? Correlates with MAJOR in SemVer (y/N)
</code></pre></div>

</li>
</ol>
<p>If you answer <code>y</code>, then you'll get an additional prompt asking you to
   describe the breaking changes. This description will ultimately make its way
   into the user-facing release notes. If there aren't any breaking changes, press enter.
   Let's say this bug fix does <strong>not</strong> introduce a breaking change.</p>
<ol>
<li>Finally, you're asked whether this change affects any open issues (ignore
   the bit about breaking changes) and if yes then to reference them:<div class="codehilite"><pre><span></span><code><span class="vm">?</span><span class="w"> </span><span class="n">Footer</span><span class="p">.</span><span class="w"> </span><span class="n">Information</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">Breaking</span><span class="w"> </span><span class="n">Changes</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">issues</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="nl">closes</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">press</span><span class="w"> </span><span class="o">[</span><span class="n">enter</span><span class="o">]</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">skip</span><span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="n">fixes</span><span class="w"> </span><span class="n">#424242</span><span class="w"></span>
</code></pre></div>

</li>
</ol>
<p>Here we typed <code>fixes #424242</code> to indicate that we fixed issue #9000.</p>
<p>Whew! Seems like a lot, but it's rather quick once you get used to it. After
that you should have a commit that looks roughly like this, ready to be automatically rolled into the next release:</p>
<div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="k">commit</span><span class="w"> </span><span class="mi">4049</span><span class="n">adbd66b0df48e37ca105da0b9139101a1318</span><span class="w"> </span><span class="p">(</span><span class="n">HEAD</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">useful</span><span class="o">-</span><span class="n">bugfix</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nl">Author</span><span class="p">:</span><span class="w"> </span><span class="n">Phillip</span><span class="w"> </span><span class="n">Cloud</span><span class="w"> </span><span class="o">&lt;</span><span class="mi">417981</span><span class="o">+</span><span class="n">cpcloud</span><span class="nv">@users</span><span class="p">.</span><span class="n">noreply</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">    </span><span class="nc">Date</span><span class="err">:</span><span class="w">   </span><span class="n">Tue</span><span class="w"> </span><span class="k">Dec</span><span class="w"> </span><span class="mi">21</span><span class="w"> </span><span class="mi">10</span><span class="err">:</span><span class="mi">30</span><span class="err">:</span><span class="mi">50</span><span class="w"> </span><span class="mi">2021</span><span class="w"> </span><span class="o">-</span><span class="mi">0500</span><span class="w"></span>

<span class="w">        </span><span class="n">fix</span><span class="p">(</span><span class="n">type</span><span class="o">-</span><span class="n">inference</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">fix</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">inference</span><span class="w"> </span><span class="n">issue</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">floats</span><span class="w"> </span><span class="n">were</span><span class="w"> </span><span class="n">incorrectly</span><span class="w"> </span><span class="nf">cast</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">ints</span><span class="w"></span>

<span class="w">        </span><span class="n">A</span><span class="w"> </span><span class="n">bug</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">triggered</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="ow">some</span><span class="w"> </span><span class="n">incorrect</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">caused</span><span class="w"> </span><span class="n">floats</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">incorrectly</span><span class="w"> </span><span class="nf">cast</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">integers</span><span class="p">.</span><span class="w"></span>

<span class="w">        </span><span class="n">fixes</span><span class="w"> </span><span class="n">#424242</span><span class="w"></span>
</code></pre></div>

<h4 id="push-your-changes">Push your changes</h4>
<p>Now that you've got a commit, you're ready to push your changes and make a pull request!</p>
<div class="codehilite"><pre><span></span><code>    $ gh pr create
</code></pre></div>

<p>Follow the prompts, and <code>gh</code> will print a link to your PR upon successfuly submission.</p>
<h3 id="updating-dependencies">Updating dependencies</h3>
<h4 id="automatic-dependency-updates">Automatic dependency updates</h4>
<p><a href="https://www.whitesourcesoftware.com/free-developer-tools/renovate/">WhiteSource
Renovate</a>
will run at some cadence (outside of traditional business hours) and submit PRs
that update dependencies.</p>
<p>These upgrades use a conservative update strategy, which is currently to
increase the upper bound of a dependency's range.</p>
<p>The PRs it generates will regenerate a number of other files so that in most
cases contributors do not have to remember to generate and commit these files.</p>
<h4 id="manually-updating-dependencies">Manually updating dependencies</h4>
<p><strong>Do not manually edit <code>setup.py</code>, it is automatically generated from <code>pyproject.toml</code></strong></p>
<ol>
<li>Edit <code>pyproject.toml</code> as needed.</li>
<li>Run <code>poetry update</code></li>
<li>Run</li>
</ol>
<div class="codehilite"><pre><span></span><code><span class="c1"># if using nix</span>
$ ./dev/poetry2setup -o setup.py

<span class="c1"># it not using nix, requires installation of tomli and poetry-core</span>
$ <span class="nv">PYTHONHASHSEED</span><span class="o">=</span><span class="m">42</span> python ./dev/poetry2setup.py -o setup.py
</code></pre></div>

<p>from the repository root.</p>
<p>Updates of minor and patch versions of dependencies are handled automatically by
<a href="https://github.com/renovatebot/renovate"><code>renovate</code></a>.</p>
<h3 id="releasing">Releasing</h3>
<h2 id="style-and-formatting">Style and formatting</h2>
<p>The following tools are run in both CI and pre-commit checks to check various
kinds of code style and lint rules:</p>
<ul>
<li><a href="https://github.com/psf/black">black</a> for general formatting of Python code</li>
<li><a href="https://github.com/PyCQA/isort">isort</a> for formatting and sorting Python <code>import</code> statements</li>
<li><a href="https://flake8.pycqa.org/en/latest/">flake8</a> for linting Python code</li>
<li><a href="https://github.com/Synthetica9/nix-linter">nix-linter</a> for linting nix files</li>
<li><a href="https://github.com/nix-community/nixpkgs-fmt">nixpkgs-fmt</a> for formatting nix files</li>
<li><a href="https://prettier.io/">prettier</a> for formatting handwritten TOML, YAML, and JSON files in the repo</li>
<li><a href="https://github.com/koalaman/shellcheck">shellcheck</a> for linting various shell script things</li>
<li><a href="https://github.com/mvdan/sh">shfmt</a> for formatting shell scripts</li>
</ul>
<p><strong>Note:</strong> If you use <code>nix-shell</code> all of these are setup for you and ready to use, you don't
need to install any of these tools.</p>
<p>We use <a href="https://numpydoc.readthedocs.io/en/latest/format.html">numpydoc</a> as our
standard format for docstrings.</p>
<h2 id="commit-philosophy">Commit philosophy</h2>
<p>We aim to make our individual commits small and tightly focused on the feature
they are implementing or bug being fixed. If you find yourself making
functional changes to different areas of the codebase, we prefer you break up
your changes into separate Pull Requests. In general, a philosophy of one
Github Issue per Pull Request is a good rule of thumb.</p>
<h2 id="maintainers-guide">Maintainer's guide</h2>
<p>Maintainers should be performing a minimum number of tasks, deferring to automation
as much as possible:</p>
<ul>
<li>Merging pull requests</li>
<li>Making releases to conda-forge</li>
</ul>
<p>A number of tasks that are typically associated with maintenance are either partially or fully automated:</p>
<ul>
<li>Updating library dependencies: this is handled automatically by WhiteSource Renovate</li>
<li>Updating github-actions: this is handled automatically by WhiteSource Renovate</li>
<li>Updating nix dependencies: this is a job run at a regular cadence to update nix dependencies
  and publish them to a public cache</li>
</ul>
<p>Occasionally you may need to manually lock poetry dependencies, which can be done by running</p>
<div class="codehilite"><pre><span></span><code>    poetry update --lock
</code></pre></div>

<p>If a dependency was updated, you'll see changes to <code>poetry.lock</code> in the current directory.</p>
<h3 id="merging-prs">Merging PRs</h3>
<p>PRs can be merged using the <a href="https://github.com/cli/cli"><code>gh</code> command line tool</a>
or with the GitHub web UI.</p>
<h3 id="release">Release</h3>
<h4 id="pypi">PyPI</h4>
<p>Releases to PyPI are handled automatically using a <a href="https://python-semantic-release.readthedocs.io/en/latest/">Python
implementation</a> of
<a href="https://egghead.io/lessons/javascript-automating-releases-with-semantic-release">semantic
release</a>.</p>
<p>Ibis is released in two places:</p>
<ul>
<li><a href="https://pypi.org/">PyPI</a> (the <strong>PY</strong>thon <strong>P</strong>ackage <strong>I</strong>ndex), to enable <code>pip install ibis-framework</code></li>
<li><a href="https://conda-forge.org/">Conda Forge</a>, to enable <code>conda install ibis-framework</code></li>
</ul>
<h4 id="conda-forge"><code>conda-forge</code></h4>
<p>The conda-forge package is released using the conda-forge feedstock repository: https://github.com/conda-forge/ibis-framework-feedstock/</p>
<p>After a release to PyPI, the conda-forge bot automatically update the ibis
package.</p>
                               
            </div>
        </main>
        <footer class="container pt-4 pt-md-5 border-top">
            
                <ul class="list-inline social-buttons float-right">
                    
                        <li class="list-inline-item">
                            <a href="https://twitter.com/IbisData" target="_blank">
                                <i class="fab fa-twitter"></i>
                            </a>
                        </li>
                    
                        <li class="list-inline-item">
                            <a href="https://github.com/ibis-project/ibis/" target="_blank">
                                <i class="fab fa-github"></i>
                            </a>
                        </li>
                    
                </ul>
            
            
                <p>© Copyright 2014-2021, Ibis developers</p>
            
        </footer>
                
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
                integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
                crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
                integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
                crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
                integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
                crossorigin="anonymous"></script>
    </body>
</html>