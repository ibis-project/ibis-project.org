
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Design &#8212; Ibis 2.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Extending Ibis" href="extending/index.html" />
    <link rel="prev" title="Ibis and Geospatial Operations" href="geospatial_analysis.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=indigo data-md-color-accent=blue>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#user_guide/design" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../index.html" title="Ibis 2.0.0 documentation"
           class="md-header-nav__button md-logo">
          
              <img src="../_static/logo-wide.svg" height="26"
                   alt="Ibis 2.0.0 documentation logo">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">Ibis 2.0.0 documentation</span>
          <span class="md-header-nav__topic"> Design </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
      
  
  <script src="../_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = "../"versions.json"",
        target_loc = "../../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">Ibis 2.0.0 documentation</a></li>
          <li class="md-tabs__item"><a href="index.html" class="md-tabs__link">User guide</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Ibis 2.0.0 documentation" class="md-nav__button md-logo">
      
        <img src="../_static/logo-wide.svg" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Ibis 2.0.0 documentation">Ibis 2.0.0 documentation</a>
  </label>
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="../tutorial/index.html" class="md-nav__link">Tutorial</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="index.html" class="md-nav__link">User guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../api.html" class="md-nav__link">API Reference</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../backends/index.html" class="md-nav__link">Backends</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#user-guide-design--page-root" class="md-nav__link">Design</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#primary-goals" class="md-nav__link">Primary Goals</a>
        </li>
        <li class="md-nav__item"><a href="#flow-of-execution" class="md-nav__link">Flow of Execution</a>
        </li>
        <li class="md-nav__item"><a href="#expressions" class="md-nav__link">Expressions</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#type-system" class="md-nav__link">Type System</a>
        </li>
        <li class="md-nav__item"><a href="#the-expr-class" class="md-nav__link">The <code class="xref py py-class docutils literal notranslate"><span class="pre">Expr</span></code> class</a>
        </li>
        <li class="md-nav__item"><a href="#the-node-class" class="md-nav__link">The <code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code> Class</a>
        </li>
        <li class="md-nav__item"><a href="#expressions-vs-operations-why-are-they-different" class="md-nav__link">Expressions vs Operations: Why are they different?</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#compilation" class="md-nav__link">Compilation</a>
        </li>
        <li class="md-nav__item"><a href="#execution" class="md-nav__link">Execution</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../_sources/user_guide/design.rst.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="design">
<span id="id1"></span><h1 id="user-guide-design--page-root">Design<a class="headerlink" href="#user-guide-design--page-root" title="Permalink to this headline">¶</a></h1>
<section id="primary-goals">
<span id="id2"></span><h2 id="primary-goals">Primary Goals<a class="headerlink" href="#primary-goals" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Type safety</p></li>
<li><p>Expressiveness</p></li>
<li><p>Composability</p></li>
<li><p>Familiarity</p></li>
</ol>
</section>
<section id="flow-of-execution">
<span id="id3"></span><h2 id="flow-of-execution">Flow of Execution<a class="headerlink" href="#flow-of-execution" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>User writes expression</p></li>
<li><p>Each method or function call builds a new expression</p></li>
<li><p>Expressions are type checked as you create them</p></li>
<li><p>Expressions have some optimizations that happen as the user builds them</p></li>
<li><p>Backend specific rewrites</p></li>
<li><p>Expressions are compiled</p></li>
<li><p>The SQL string that generated by the compiler is sent to the database and
executed (this step is skipped for the pandas backend)</p></li>
<li><p>The database returns some data that is then turned into a pandas DataFrame
by ibis</p></li>
</ol>
</section>
<section id="expressions">
<span id="id4"></span><h2 id="expressions">Expressions<a class="headerlink" href="#expressions" title="Permalink to this headline">¶</a></h2>
<p>The main user-facing component of ibis is expressions. The base class of all
expressions in ibis is the <code class="xref py py-class docutils literal notranslate"><span class="pre">Expr</span></code> class.</p>
<p>Expressions provide the user facing API, defined in <code class="docutils literal notranslate"><span class="pre">ibis/expr/api.py</span></code></p>
<section id="type-system">
<span id="id5"></span><h3 id="type-system">Type System<a class="headerlink" href="#type-system" title="Permalink to this headline">¶</a></h3>
<p>Ibis’s type system consists of a set of rules for specifying the types of
inputs to <code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code> subclasses. Upon construction of a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code> subclass, ibis performs validation of every
input to the node based on the rule that was used to declare the input.</p>
<p>Rules are defined in <code class="docutils literal notranslate"><span class="pre">ibis/expr/rules.py</span></code></p>
</section>
<section id="the-expr-class">
<span id="expr-class"></span><h3 id="the-expr-class">The <code class="xref py py-class docutils literal notranslate"><span class="pre">Expr</span></code> class<a class="headerlink" href="#the-expr-class" title="Permalink to this headline">¶</a></h3>
<p>Expressions are a thin but important abstraction over operations, containing
only type information and shape information, i.e., whether they are tables,
columns, or scalars.</p>
<p>Examples of expressions include <code class="xref py py-class docutils literal notranslate"><span class="pre">Int64Column</span></code>,
<code class="xref py py-class docutils literal notranslate"><span class="pre">StringScalar</span></code>, and
<code class="xref py py-class docutils literal notranslate"><span class="pre">TableExpr</span></code>.</p>
<p>Here’s an example of each type of expression:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">import</span> <span class="nn">ibis</span>

<span class="gp">In [2]: </span><span class="n">t</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">table</span><span class="p">([(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'int64'</span><span class="p">)])</span>

<span class="gp">In [3]: </span><span class="n">int64_column</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">a</span>

<span class="gp">In [4]: </span><span class="nb">type</span><span class="p">(</span><span class="n">int64_column</span><span class="p">)</span>
<span class="gh">Out[4]: </span><span class="go">ibis.expr.types.IntegerColumn</span>

<span class="gp">In [5]: </span><span class="n">string_scalar</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">literal</span><span class="p">(</span><span class="s1">'some_string_value'</span><span class="p">)</span>

<span class="gp">In [6]: </span><span class="nb">type</span><span class="p">(</span><span class="n">string_scalar</span><span class="p">)</span>
<span class="gh">Out[6]: </span><span class="go">ibis.expr.types.StringScalar</span>

<span class="gp">In [7]: </span><span class="n">table_expr</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">mutate</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="n">t</span><span class="o">.</span><span class="n">a</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

<span class="gp">In [8]: </span><span class="nb">type</span><span class="p">(</span><span class="n">table_expr</span><span class="p">)</span>
<span class="gh">Out[8]: </span><span class="go">ibis.expr.types.TableExpr</span>
</pre></div>
</div>
</section>
<section id="the-node-class">
<span id="node-class"></span><h3 id="the-node-class">The <code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code> Class<a class="headerlink" href="#the-node-class" title="Permalink to this headline">¶</a></h3>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code> subclasses make up the core set of operations of
ibis. Each node corresponds to a particular operation.</p>
<p>Most nodes are defined in the <code class="xref py py-mod docutils literal notranslate"><span class="pre">operations</span></code> module.</p>
<p>Examples of nodes include <code class="xref py py-class docutils literal notranslate"><span class="pre">Add</span></code> and
<code class="xref py py-class docutils literal notranslate"><span class="pre">Sum</span></code>.</p>
<p>Nodes (transitively) inherit from a class that allows node authors to define
their node’s input arguments directly in the class body.</p>
<p>Additionally the <code class="docutils literal notranslate"><span class="pre">output_type</span></code> member of the class is a rule or method that
defines the shape (scalar or column) and element type of the operation.</p>
<p>Each input argument’s rule should be passed to the
<code class="docutils literal notranslate"><span class="pre">ibis.expr.signature.Argument</span></code> class (often aliased to <code class="docutils literal notranslate"><span class="pre">Arg</span></code> for
convenience in the ibis codebase).</p>
<p>An example of usage is a node that representats a logarithm operation:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="kn">import</span> <span class="nn">ibis.expr.rules</span> <span class="k">as</span> <span class="nn">rlz</span>

<span class="gp">In [10]: </span><span class="kn">from</span> <span class="nn">ibis.expr.operations</span> <span class="kn">import</span> <span class="n">ValueOp</span>

<span class="gp">In [11]: </span><span class="kn">from</span> <span class="nn">ibis.expr.signature</span> <span class="kn">import</span> <span class="n">Argument</span> <span class="k">as</span> <span class="n">Arg</span>

<span class="gp">In [12]: </span><span class="k">class</span> <span class="nc">Log</span><span class="p">(</span><span class="n">ValueOp</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="n">arg</span> <span class="o">=</span> <span class="n">Arg</span><span class="p">(</span><span class="n">rlz</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>  <span class="c1"># A double scalar or column</span>
<span class="gp">   ....: </span>    <span class="n">base</span> <span class="o">=</span> <span class="n">Arg</span><span class="p">(</span><span class="n">rlz</span><span class="o">.</span><span class="n">double</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># Optional argument</span>
<span class="gp">   ....: </span>    <span class="n">output_type</span> <span class="o">=</span> <span class="n">rlz</span><span class="o">.</span><span class="n">typeof</span><span class="p">(</span><span class="s1">'arg'</span><span class="p">)</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
<p>This class describes an operation called <code class="docutils literal notranslate"><span class="pre">Log</span></code> that takes one required
argument: a double scalar or column, and one optional argument: a double scalar
or column named <code class="docutils literal notranslate"><span class="pre">base</span></code> that defaults to nothing if not provided. The <code class="docutils literal notranslate"><span class="pre">base</span></code>
argument is <code class="docutils literal notranslate"><span class="pre">None</span></code> by default so that the expression will behave as the
underlying database does.</p>
<p>Similar objects are instantiated when you use ibis APIs:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="kn">import</span> <span class="nn">ibis</span>

<span class="gp">In [14]: </span><span class="n">t</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">table</span><span class="p">([(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'double'</span><span class="p">)],</span> <span class="n">name</span><span class="o">=</span><span class="s1">'t'</span><span class="p">)</span>

<span class="gp">In [15]: </span><span class="n">log_1p</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">t</span><span class="o">.</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">log</span><span class="p">()</span>  <span class="c1"># an Add and a Log are instantiated here</span>
</pre></div>
</div>
</section>
<section id="expressions-vs-operations-why-are-they-different">
<span id="expr-vs-ops"></span><h3 id="expressions-vs-operations-why-are-they-different">Expressions vs Operations: Why are they different?<a class="headerlink" href="#expressions-vs-operations-why-are-they-different" title="Permalink to this headline">¶</a></h3>
<p>Separating expressions from their underlying operations makes it easy to
generically describe and validate the inputs to particular nodes. In the log
example, it doesn’t matter what <em>operation</em> (node) the double-valued arguments
are coming from, they must only satisfy the requirement denoted by the rule.</p>
<p>Separation of the <code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code> and
<code class="xref py py-class docutils literal notranslate"><span class="pre">Expr</span></code> classes also allows the API to be tied to the
physical type of the expression rather than the particular operation, making it
easy to define the API in terms of types rather than specific operations.</p>
<p>Furthermore, operations often have an output type that depends on the input
type. An example of this is the <code class="docutils literal notranslate"><span class="pre">greatest</span></code> function, which takes the maximum
of all of its arguments. Another example is <code class="docutils literal notranslate"><span class="pre">CASE</span></code> statements, whose <code class="docutils literal notranslate"><span class="pre">THEN</span></code>
expressions determine the output type of the expression.</p>
<p>This allows ibis to provide <strong>only</strong> the APIs that make sense for a particular
type, even when an operation yields a different output type depending on its
input. Concretely, this means that you cannot perform operations that don’t
make sense, like computing the average of a string column.</p>
</section>
</section>
<section id="compilation">
<span id="id6"></span><h2 id="compilation">Compilation<a class="headerlink" href="#compilation" title="Permalink to this headline">¶</a></h2>
<p>The next major component of ibis is the compilers.</p>
<p>The first few versions of ibis directly generated strings, but the compiler
infrastructure was generalized to support compilation of <a class="reference external" href="https://docs.sqlalchemy.org/en/latest/core/tutorial.html">SQLAlchemy</a> based expressions.</p>
<p>The compiler works by translating the different pieces of SQL expression into a
string or SQLAlchemy expression.</p>
<p>The main pieces of a <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement are:</p>
<ol class="arabic simple">
<li><p>The set of column expressions (<code class="docutils literal notranslate"><span class="pre">select_set</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WHERE</span></code> clauses (<code class="docutils literal notranslate"><span class="pre">where</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code> clauses (<code class="docutils literal notranslate"><span class="pre">group_by</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HAVING</span></code> clauses (<code class="docutils literal notranslate"><span class="pre">having</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LIMIT</span></code> clauses (<code class="docutils literal notranslate"><span class="pre">limit</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code> clauses (<code class="docutils literal notranslate"><span class="pre">order_by</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DISTINCT</span></code> clauses (<code class="docutils literal notranslate"><span class="pre">distinct</span></code>)</p></li>
</ol>
<p>Each of these pieces is translated into a SQL string and finally assembled by
the instance of the <code class="xref py py-class docutils literal notranslate"><span class="pre">ExprTranslator</span></code> subclass
specific to the backend being compiled. For example, the
<code class="xref py py-class docutils literal notranslate"><span class="pre">ImpalaExprTranslator</span></code> is one of the subclasses
that will perform this translation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While ibis was designed with an explicit goal of first-class SQL support,
ibis can target other systems such as pandas.</p>
</div>
</section>
<section id="execution">
<span id="id7"></span><h2 id="execution">Execution<a class="headerlink" href="#execution" title="Permalink to this headline">¶</a></h2>
<p>We presumably want to <em>do</em> something with our compiled expressions. This is
where execution comes in.</p>
<p>This is least complex part of ibis, mostly only requiring ibis to correctly
handle whatever the database hands back.</p>
<p>By and large, the execution of compiled SQL is handled by the database to which
SQL is sent from ibis.</p>
<p>However, once the data arrives from the database we need to convert that
data to a pandas DataFrame.</p>
<p>The Query class, with its <code class="xref py py-meth docutils literal notranslate"><span class="pre">_fetch()</span></code> method,
provides a way for ibis <code class="xref py py-class docutils literal notranslate"><span class="pre">SQLClient</span></code> objects to do any
additional processing necessary after the database returns results to the
client.</p>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="geospatial_analysis.html" title="Ibis and Geospatial Operations"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Ibis and Geospatial Operations </span>
              </div>
            </a>
          
          
            <a href="extending/index.html" title="Extending Ibis"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Extending Ibis </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2014-1980, Ibis Developers.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 4.3.2.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-65303298-2', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>